<div class=" md:w-[calc(100%-256px)] md:ml-64 bg-gray-50 mt-13 min-h-screen transition-all">
    <div class="flex flex-wrap mt-4">
        <div class="w-full mb-12 px-4">
            <div class="relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg rounded"
                [ngClass]="color === 'light' ? 'bg-white' : 'bg-red-900 text-white'">
                <div class="rounded-t mb-0 px-4 py-3 border-0 bg-gray-100">
                    <div class="flex flex-wrap items-center">
                        <div class="relative w-full px-4 max-w-full flex-grow flex-1">
                            <h3 class="font-semibold text-lg"
                                [ngClass]="color === 'light' ? 'text-blueGray-700' : 'text-white'">
                                Employees
                            </h3>
                        </div>

                    </div>
                    <div class="grid grid-cols-12 justify-items-end">
                        <div class="col-span-6">
                            <div class="relative ml-3 mt-3 grid grid-cols-3">
                                <div class="relative flex w-full flex-wrap items-stretch my-2">
                                    <span
                                        class="z-10 h-full leading-snug font-normal absolute text-center text-blueGray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-3">
                                        <i class="fas fa-search"></i>
                                    </span>
                                    <input type="text" placeholder="Search Employees..."
                                        class="border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 relative bg-white bg-white rounded text-sm shadow outline-none focus:outline-none focus:ring w-full pl-10"
                                        [(ngModel)]="searchTerm" (input)="search()" />
                                </div>
                            </div>
                        </div>
                        <div class="col-span-6 mt-3">
                            <button
                                class="bg-blue-400 text-white active:bg-blue-600 font-bold uppercase text-xs px-4 py-2 rounded shadow hover:shadow-md outline-none focus:outline-none mr-1 ease-linear transition-all duration-150"
                                type="button" (click)="createEmployee()"><i class="fa-solid fa-plus mr-2"></i>
                                Create Employee
                            </button>
                        </div>
                    </div>
                </div>

                <div class="block w-full overflow-x-auto p-6 bg-gray-100" *ngIf="showSearchResults || filteredEmployees.length > 0">
                    <!-- Projects table -->
                    <table class="items-center w-full bg-transparent border-collapse">
                        <thead>
                            <tr class="bg-gray-200">
                                <th (click)="sortData('firstName')"
                                    class="px-6 align-middle border border-solid py-3 text-sm uppercase border-l-0 border-r-0 whitespace-nowrap font-bold text-left"
                                    [ngClass]="
              color === 'light'
                ? 'bg-blueGray-50 text-blueGray-500 border-blueGray-100'
                : 'bg-red-800 text-red-300 border-red-700'
            ">
                                    First Name
                                    <span *ngIf="sortedField === 'firstName'" class="arrow"
                                        [class.asc]="sortOrder === 'asc'" [class.desc]="sortOrder === 'desc'"></span>
                                </th>
                                <th (click)="sortData('lastName')"
                                    class="px-6 align-middle border border-solid py-3 text-sm uppercase border-l-0 border-r-0 whitespace-nowrap font-bold text-left"
                                    [ngClass]="
              color === 'light'
                ? 'bg-blueGray-50 text-blueGray-500 border-blueGray-100'
                : 'bg-red-800 text-red-300 border-red-700'
            ">
                                    Last Name
                                    <span *ngIf="sortedField === 'lastName'" class="arrow"
                                        [class.asc]="sortOrder === 'asc'" [class.desc]="sortOrder === 'desc'"></span>
                                </th>
                                <th (click)="sortData('age')"
                                    class="px-6 align-middle border border-solid py-3 text-sm uppercase border-l-0 border-r-0 whitespace-nowrap font-bold text-left"
                                    [ngClass]="
              color === 'light'
                ? 'bg-blueGray-50 text-blueGray-500 border-blueGray-100'
                : 'bg-red-800 text-red-300 border-red-700'
            ">
                                    DOB (yyyy/dd/mm)
                                    <span *ngIf="sortedField === 'dob'" class="arrow" [class.asc]="sortOrder === 'asc'"
                                        [class.desc]="sortOrder === 'desc'"></span>
                                </th>
                                <th (click)="sortData('email')"
                                    class="px-6 align-middle border border-solid py-3 text-sm uppercase border-l-0 border-r-0 whitespace-nowrap font-bold text-left"
                                    [ngClass]="
              color === 'light'
                ? 'bg-blueGray-50 text-blueGray-500 border-blueGray-100'
                : 'bg-red-800 text-red-300 border-red-700'
            ">
                                    Email
                                    <span *ngIf="sortedField === 'department'" class="arrow"
                                        [class.asc]="sortOrder === 'asc'" [class.desc]="sortOrder === 'desc'"></span>
                                </th>
                                <th (click)="sortData('email')"
                                    class="px-6 align-middle border border-solid py-3 text-sm uppercase border-l-0 border-r-0 whitespace-nowrap font-bold text-left"
                                    [ngClass]="
              color === 'light'
                ? 'bg-blueGray-50 text-blueGray-500 border-blueGray-100'
                : 'bg-red-800 text-red-300 border-red-700'
            ">
                                    Phone
                                    <span *ngIf="sortedField === 'email'" class="arrow"
                                        [class.asc]="sortOrder === 'asc'" [class.desc]="sortOrder === 'desc'"></span>
                                </th>
                                <th (click)="sortData('email')"
                                    class="px-6 align-middle border border-solid py-3 text-sm uppercase border-l-0 border-r-0 whitespace-nowrap font-bold text-left"
                                    [ngClass]="
              color === 'light'
                ? 'bg-blueGray-50 text-blueGray-500 border-blueGray-100'
                : 'bg-red-800 text-red-300 border-red-700'
            ">
                                    Department
                                    <span *ngIf="sortedField === 'department'" class="arrow"
                                        [class.asc]="sortOrder === 'asc'" [class.desc]="sortOrder === 'desc'"></span>
                                </th>
                                <th class="px-6 align-middle border border-solid py-3 text-sm uppercase border-l-0 border-r-0 whitespace-nowrap font-bold text-left"
                                    [ngClass]="
              color === 'light'
                ? 'bg-blueGray-50 text-blueGray-500 border-blueGray-100'
                : 'bg-red-800 text-red-300 border-red-700'
            "></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="bg-white" *ngFor="let employee of filteredEmployees; let i = index">
                                <th
                                    class="border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4 text-left flex items-center">
                                    <img src="{{employee.avatar}}" class="h-12 w-12 bg-white rounded-full border"
                                        alt="..." />

                                    <span class="ml-3 font-bold"
                                        [ngClass]="color === 'light' ? 'text-blueGray-600' : 'text-white'">
                                        {{ employee.firstName }}
                                    </span>
                                </th>
                                <td
                                    class="border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4">
                                    {{ employee.lastName }}
                                </td>
                                <td
                                    class="border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4">
                                    {{ employee.dob }}
                                </td>

                                <td
                                    class="border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4">
                                    {{ employee.email }}
                                </td>
                                <td
                                    class="border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4">
                                    {{ employee.phone }}
                                </td>
                                <td
                                    class="border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4">
                                    {{ employee.departmentId }}
                                </td>
                                <td
                                    class="border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4 text-right">
                                    <button (click)="openEditForm(employee)"
                                        class="text-blueGray-500 py-1 px-3 border hover:border-blue-500 transition">
                                        <i class="fas fa-pencil-alt" style="color: blue;"></i>
                                    </button>
                                    <button (click)="deleteEmployee(employee)"
                                        class="text-blueGray-500 py-1 px-3 border hover:border-red-500 transition">
                                        <i class="fas fa-trash-alt" style="color: red;"></i>
                                    </button>
                                </td>


                        </tbody>
                    </table>
                    <mat-paginator [pageSizeOptions]="[5, 10, 25, 50]" [pageSize]="pageSize"
                        [length]="filteredEmployees.length" (page)="onPageChange($event)"></mat-paginator>
                </div>


                <div *ngIf="!showSearchResults && filteredEmployees.length === 0">
                    <p class="text-center pt-3 font-bold text-large">0 result.</p>
                </div>

            </div>

        </div>
    </div>
</div>